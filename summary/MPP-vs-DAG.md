



|                    | 批处理架构(shared storage)             | MPP架构(shared nothing)                      |
| ------------------ | -------------------------------------- | -------------------------------------------- |
| 参与计算的节点     | 部分节点                               | 全部节点                                     |
| 单个节点的数据视角 | 可看到全部数据                         | 只能看到自己节点对应的数据                   |
| task调度           | 有                                     | 无                                           |
| 容错性             | 高（推测执行：避免把task调度到慢节点） | 低（木桶效应）                               |
| 中间结果集         | 落盘（发给下一个stage）                | 不落盘（pipeline包括一个完整的数据处理流程） |
|                    |                                        |                                              |

MPP将mapper和reducer同时运行，而MapReduce将它们分成有依赖关系的tasks(DAG),这些task是异步执行的，因此必须通过写入中间数据共享内存来解决数据的依赖。

参考：

- https://developer.51cto.com/art/202103/652932.htm
- https://tech.meituan.com/2014/06/16/presto.html 其中presto生成的plan的执行流程